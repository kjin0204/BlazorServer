@page "/user"

@using BlazorApp.Data;

<h3>Online users</h3>

    Users : <b>@_users.Count()</b>

    <br />

    <ul class="list-group">
        @foreach (UserData user in _users)
        {
            <li class="list-group-item">
                <button type="button" class="btn btn-link" @onclick="(() => KickUser(user))">[Kick]</button>
                <label>@user.Name</label>
            </li>
        }
    </ul>


    <br />


    <div class="container">
        <div class="row">
            <div class="col">
                <input class="form-control" placeholder="Add User" @bind-value="@_inputName" />
            </div>
            <div class="col">
                <button class="btn btn-primary" type="button" @onclick="AddUser">Add a User</button>
            </div>
        </div>
    </div>

    @code {

        List<UserData> _users = new List<UserData>();

        string _inputName;

        protected override void OnInitialized()
        {
            _users.Add(new UserData() { Name = "Rookiss" });
            _users.Add(new UserData() { Name = "Faket" });
            _users.Add(new UserData() { Name = "Deft" });
        }

        void AddUser()
        {
            _users.Add(new UserData() { Name = _inputName });
            _inputName = "";
        }

        void KickUser(UserData user)
        {
            _users.Remove(user);
        }


    }
